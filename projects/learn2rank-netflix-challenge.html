<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Learn2Rank - Netflix Challenge | Mario Garrido</title>
    <style>
        :root {
            --bg: #fff;
            --bg-alt: #f7f7f7;
            --text: #111;
            --text-secondary: #333;
            --text-muted: #666;
            --text-faint: #999;
            --border: #111;
            --border-light: #e5e5e5;
            --border-faint: #f0f0f0;
            --accent: #000;
        }

        [data-theme="dark"] {
            --bg: #0d0d0d;
            --bg-alt: #1a1a1a;
            --text: #f0f0f0;
            --text-secondary: #d0d0d0;
            --text-muted: #a0a0a0;
            --text-faint: #606060;
            --border: #404040;
            --border-light: #2a2a2a;
            --border-faint: #1f1f1f;
            --accent: #fff;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            background: var(--bg);
            color: var(--text);
            line-height: 1.65;
            font-size: 16px;
            -webkit-font-smoothing: antialiased;
            transition: background 0.3s, color 0.3s;
        }

        .masthead {
            padding: 48px 0 40px;
            border-bottom: 1px solid var(--border);
        }

        .masthead-inner {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 60px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 15px;
            font-weight: 700;
            letter-spacing: -0.3px;
            color: var(--text);
            text-decoration: none;
        }

        .masthead-right {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .nav-links {
            display: flex;
            gap: 24px;
            align-items: center;
        }

        .nav-links a {
            color: var(--text-muted);
            text-decoration: none;
            font-size: 13px;
            transition: color 0.2s;
            font-weight: 500;
        }

        .nav-links a:hover {
            color: var(--text);
        }

        .theme-toggle {
            background: none;
            border: 1px solid var(--border-light);
            border-radius: 20px;
            padding: 6px 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 12px;
            color: var(--text-muted);
            transition: all 0.2s;
        }

        .theme-toggle:hover {
            border-color: var(--text);
            color: var(--text);
        }

        .theme-toggle svg {
            width: 14px;
            height: 14px;
        }

        [data-theme="dark"] .sun-icon {
            display: block;
        }

        [data-theme="dark"] .moon-icon {
            display: none;
        }

        [data-theme="light"] .sun-icon {
            display: none;
        }

        [data-theme="light"] .moon-icon {
            display: block;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 70px 60px 120px;
        }

        .page-header {
            margin-bottom: 50px;
            padding-bottom: 40px;
            border-bottom: 1px solid var(--border-faint);
        }

        h1 {
            font-size: 2.75em;
            font-weight: 700;
            margin-bottom: 14px;
            letter-spacing: -0.5px;
            color: var(--text);
            line-height: 1.2;
        }

        .meta {
            color: var(--text-faint);
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
        }

        .content {
            background: transparent;
        }

        .content p {
            margin-bottom: 1.5em;
            color: var(--text-secondary);
            font-size: 16px;
            line-height: 1.7;
        }

        .content h2 {
            font-size: 1.6em;
            font-weight: 700;
            margin: 48px 0 18px 0;
            color: var(--text);
            letter-spacing: -0.3px;
        }

        .content h2:first-child {
            margin-top: 0;
        }

        .content ul {
            margin-bottom: 1.5em;
            padding-left: 24px;
        }

        .content li {
            margin-bottom: 0.65em;
            line-height: 1.7;
            color: var(--text-secondary);
        }

        .content a {
            color: var(--text);
            font-weight: 500;
            text-decoration: underline;
            text-decoration-color: var(--border-light);
            transition: text-decoration-color 0.2s;
        }

        .content a:hover {
            text-decoration-color: var(--text);
        }

        .content img, .content video {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            margin: 2em 0;
            border: 1px solid var(--border-light);
        }

        .figure {
            margin: 2.5em 0;
        }

        .figure-caption {
            color: var(--text-muted);
            font-size: 14px;
            margin-top: 12px;
            text-align: center;
            font-style: italic;
            line-height: 1.5;
        }

        @media (max-width: 768px) {
            .masthead-inner {
                padding: 0 24px;
            }

            .nav-links {
                gap: 16px;
            }

            .container {
                padding: 50px 24px 80px;
            }

            h1 {
                font-size: 2.2em;
            }

            .content h2 {
                font-size: 1.4em;
            }

            .content {
                font-size: 15px;
            }
        }
    </style>
</head>
<body>
    <header class="masthead">
        <div class="masthead-inner">
            <a href="../index.html" class="logo">Mario Garrido</a>
            <div class="masthead-right">
                <div class="nav-links">
                    <a href="../writings.html">Writings</a>
                    <a href="../projects.html">Projects</a>
                    <a href="../cv.html">CV</a>
                </div>
                <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle dark mode">
                    <svg class="sun-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"/>
                        <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
                    </svg>
                    <svg class="moon-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="page-header">
            <h1>Learn2Rank - Netflix Challenge</h1>
            <div class="meta">2020 &bull; Recommendation Systems</div>
        </div>

        <div class="content">
            <div class="figure">
                <img src="assets/learn2rank/image1.png" alt="Conceptual diagram of RankNet">
                <p class="figure-caption">Conceptual diagram of the implemented RankNet.</p>
            </div>

            <p>I generated a recommendation system for the Netflix Challenge dataset that reframes a collaborative filtering problem into a Learn2Rank problem.</p>

            <p>The Netflix Challenge dataset is a large matrix of Netflix users, and what scores they gave to which movies. By applying Singular Value Decomposition, it is possible to generate a reduced feature vector for both users (based on which movies they have watched) as well as movies (based on which users have watched them). These reduced vectors capture the latent topological information present within the dataset.</p>

            <p>By posing the question "What is the order in which the user prefers these two movies?", it is possible to formulate a Learn2Rank problem in which, given the context of the user, a dense neural network can act upon two different movies, deciding whether one or the other should be preferred.</p>

            <p>A RankNet was trained for this purpose, considering that a higher score should be preferable to a lower score, and that identical scores are not informative. Once trained, the model can be easily plugged into any sorting algorithm (in this case, quicksort) to easily sort a collection of movies based on user preference.</p>

            <p>This approach showed very promising results, as the suggestions given to users seemed relevant. In order to convert these into scores, binning could be applied to a range of results, or the model's output could be slightly modified.</p>
        </div>
    </div>

    <script>
        // Theme toggle
        function getPreferredTheme() {
            const stored = localStorage.getItem('theme');
            if (stored) return stored;
            return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        }

        function setTheme(theme) {
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
        }

        function toggleTheme() {
            const current = document.documentElement.getAttribute('data-theme');
            setTheme(current === 'dark' ? 'light' : 'dark');
        }

        // Initialize
        setTheme(getPreferredTheme());
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {
            if (!localStorage.getItem('theme')) {
                setTheme(e.matches ? 'dark' : 'light');
            }
        });
    </script>
</body>
</html>